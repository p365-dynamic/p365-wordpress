(function(e){"object"===typeof mceThemifyPopup&&(e('<script type="text/html" id="tmpl-themify-popup-shortcode">'+mceThemifyPopup.fields.template+"\x3c/script>").appendTo("body"),tinymce.PluginManager.add("mceThemifyPopup",function(c,e){function f(){var d=c.settings.color_picker_callback;if(d)return function(){var a=this;d.call(c,function(b){a.value(b).fire("change")},a.value())}}c.addButton("mceThemifyPopup",{title:mceThemifyPopup.labels.menuName,image:e+"/icon.svg",onclick:function(){var d=[];jQuery.each(mceThemifyPopup.fields.fields,
function(a,b){"colorbox"==b.type&&(b.onaction=f());d.push(b)});c.windowManager.open({title:mceThemifyPopup.labels.menuName,body:d,onSubmit:function(a){a=this.toJSON();a.selectedContent=c.selection.getContent();var b=wp.template("themify-popup-shortcode");c.insertContent(b(a))}})}})}))})(jQuery);
